{"ast":null,"code":"import { ref, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute, useRouter } from 'vue-router';\nexport default {\n  name: 'LoginView',\n  setup() {\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n\n    // State\n    const email = ref('');\n    const password = ref('');\n\n    // Computed\n    const loading = computed(() => store.getters.isLoading);\n    const isAuthenticated = computed(() => store.getters['auth/isAuthenticated']);\n\n    // Methods\n    const login = async () => {\n      if (!email.value || !password.value) return;\n      const credentials = {\n        email: email.value,\n        password: password.value\n      };\n      const result = await store.dispatch('auth/login', credentials);\n      if (result.success) {\n        // Redirect to the intended page or home\n        const redirectPath = route.query.redirect || '/';\n        router.push(redirectPath);\n      }\n    };\n\n    // Lifecycle hooks\n    onMounted(() => {\n      // If already logged in, redirect to home\n      if (isAuthenticated.value) {\n        router.push('/');\n      }\n    });\n    return {\n      email,\n      password,\n      loading,\n      login\n    };\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","useStore","useRoute","useRouter","name","setup","store","route","router","email","password","loading","getters","isLoading","isAuthenticated","login","value","credentials","result","dispatch","success","redirectPath","query","redirect","push"],"sources":["C:\\Users\\geeksaider\\VeloW\\frontend\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto px-4 py-12\">\n    <div class=\"max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden\">\n      <div class=\"p-6\">\n        <h1 class=\"text-2xl font-bold text-slate-800 mb-6 text-center\">Вход в аккаунт</h1>\n        \n        <form @submit.prevent=\"login\">\n          <div class=\"mb-4\">\n            <label for=\"email\" class=\"form-label\">Email</label>\n            <input \n              id=\"email\" \n              type=\"email\" \n              v-model=\"email\" \n              class=\"form-input\" \n              required\n              placeholder=\"Введите ваш email\"\n            >\n          </div>\n          \n          <div class=\"mb-6\">\n            <label for=\"password\" class=\"form-label\">Пароль</label>\n            <input \n              id=\"password\" \n              type=\"password\" \n              v-model=\"password\" \n              class=\"form-input\" \n              required\n              placeholder=\"Введите ваш пароль\"\n            >\n          </div>\n          \n          <div class=\"flex flex-col space-y-4\">\n            <button \n              type=\"submit\" \n              class=\"btn btn-primary w-full\"\n              :disabled=\"loading\"\n            >\n              <span v-if=\"loading\">\n                <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white inline\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                  <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Входим...\n              </span>\n              <span v-else>Войти</span>\n            </button>\n            \n            <div class=\"text-center text-slate-600\">\n              Нет аккаунта? \n              <router-link to=\"/register\" class=\"text-slate-800 font-medium hover:underline\">\n                Зарегистрироваться\n              </router-link>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute, useRouter } from 'vue-router';\n\nexport default {\n  name: 'LoginView',\n  setup() {\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n    \n    // State\n    const email = ref('');\n    const password = ref('');\n    \n    // Computed\n    const loading = computed(() => store.getters.isLoading);\n    const isAuthenticated = computed(() => store.getters['auth/isAuthenticated']);\n    \n    // Methods\n    const login = async () => {\n      if (!email.value || !password.value) return;\n      \n      const credentials = {\n        email: email.value,\n        password: password.value\n      };\n      \n      const result = await store.dispatch('auth/login', credentials);\n      \n      if (result.success) {\n        // Redirect to the intended page or home\n        const redirectPath = route.query.redirect || '/';\n        router.push(redirectPath);\n      }\n    };\n    \n    // Lifecycle hooks\n    onMounted(() => {\n      // If already logged in, redirect to home\n      if (isAuthenticated.value) {\n        router.push('/');\n      }\n    });\n    \n    return {\n      email,\n      password,\n      loading,\n      login\n    };\n  }\n};\n</script>\n"],"mappings":"AA6DA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAQ,QAAS,KAAK;AAC9C,SAASC,QAAO,QAAS,MAAM;AAC/B,SAASC,QAAQ,EAAEC,SAAQ,QAAS,YAAY;AAEhD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,KAAI,GAAIL,QAAQ,CAAC,CAAC;IACxB,MAAMM,MAAK,GAAIL,SAAS,CAAC,CAAC;;IAE1B;IACA,MAAMM,KAAI,GAAIX,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMY,QAAO,GAAIZ,GAAG,CAAC,EAAE,CAAC;;IAExB;IACA,MAAMa,OAAM,GAAIZ,QAAQ,CAAC,MAAMO,KAAK,CAACM,OAAO,CAACC,SAAS,CAAC;IACvD,MAAMC,eAAc,GAAIf,QAAQ,CAAC,MAAMO,KAAK,CAACM,OAAO,CAAC,sBAAsB,CAAC,CAAC;;IAE7E;IACA,MAAMG,KAAI,GAAI,MAAAA,CAAA,KAAY;MACxB,IAAI,CAACN,KAAK,CAACO,KAAI,IAAK,CAACN,QAAQ,CAACM,KAAK,EAAE;MAErC,MAAMC,WAAU,GAAI;QAClBR,KAAK,EAAEA,KAAK,CAACO,KAAK;QAClBN,QAAQ,EAAEA,QAAQ,CAACM;MACrB,CAAC;MAED,MAAME,MAAK,GAAI,MAAMZ,KAAK,CAACa,QAAQ,CAAC,YAAY,EAAEF,WAAW,CAAC;MAE9D,IAAIC,MAAM,CAACE,OAAO,EAAE;QAClB;QACA,MAAMC,YAAW,GAAId,KAAK,CAACe,KAAK,CAACC,QAAO,IAAK,GAAG;QAChDf,MAAM,CAACgB,IAAI,CAACH,YAAY,CAAC;MAC3B;IACF,CAAC;;IAED;IACArB,SAAS,CAAC,MAAM;MACd;MACA,IAAIc,eAAe,CAACE,KAAK,EAAE;QACzBR,MAAM,CAACgB,IAAI,CAAC,GAAG,CAAC;MAClB;IACF,CAAC,CAAC;IAEF,OAAO;MACLf,KAAK;MACLC,QAAQ;MACRC,OAAO;MACPI;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}