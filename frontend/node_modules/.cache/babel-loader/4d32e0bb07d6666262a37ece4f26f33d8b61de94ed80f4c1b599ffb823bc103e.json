{"ast":null,"code":"export default {\n  name: 'NewArrivalsView',\n  data() {\n    return {\n      newProducts: []\n    };\n  },\n  created() {\n    this.fetchNewProducts();\n  },\n  methods: {\n    async fetchNewProducts() {\n      try {\n        // Получаем все продукты и фильтруем новинки\n        const response = await fetch('/api/products');\n        const products = await response.json();\n\n        // Сортируем по дате добавления (последние добавленные сначала)\n        this.newProducts = products.filter(product => product.is_new).sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      } catch (error) {\n        console.error('Ошибка при загрузке новинок:', error);\n        // Заглушка с данными для демонстрации\n        this.newProducts = [{\n          id: 1,\n          title: 'Минималистичная ваза',\n          price: 2400,\n          category: 'Декор',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1612620535624-f893323f5a9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }, {\n          id: 2,\n          title: 'Деревянные подсвечники',\n          price: 1800,\n          category: 'Декор',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1607248151240-1198a1a63c52?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }, {\n          id: 3,\n          title: 'Керамическая тарелка',\n          price: 1200,\n          category: 'Посуда',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1603199506016-b9a594b593c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }, {\n          id: 4,\n          title: 'Льняная скатерть',\n          price: 3500,\n          category: 'Текстиль',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1581784368651-8916b4d8faf3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }, {\n          id: 5,\n          title: 'Настенное зеркало',\n          price: 4800,\n          category: 'Декор',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1618222935795-6f94517c90e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }, {\n          id: 6,\n          title: 'Стеклянная лампа',\n          price: 5200,\n          category: 'Освещение',\n          is_new: true,\n          image_url: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n        }];\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","newProducts","created","fetchNewProducts","methods","response","fetch","products","json","filter","product","is_new","sort","a","b","Date","createdAt","error","console","id","title","price","category","image_url"],"sources":["/app/src/views/NewArrivalsView.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\">\n    <h1 class=\"text-3xl font-light text-gray-900 mb-16 text-center\">Новинки</h1>\n    \n    <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12\">\n      <div v-for=\"product in newProducts\" :key=\"product.id\" class=\"group\">\n        <router-link :to=\"'/product/' + product.id\" class=\"block\">\n          <div class=\"relative mb-4 overflow-hidden rounded-md bg-gray-100\" style=\"aspect-ratio: 1/1;\">\n            <img \n              :src=\"product.image_url || 'https://via.placeholder.com/300x300?text=Нет+изображения'\" \n              :alt=\"product.title\"\n              class=\"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105\"\n            >\n            <div v-if=\"product.is_new\" class=\"absolute top-3 right-3 bg-black text-white text-xs px-3 py-1 font-medium\">\n              New\n            </div>\n          </div>\n          \n          <h3 class=\"text-base font-medium text-gray-900 mb-1\">{{ product.title }}</h3>\n          <p class=\"text-sm text-gray-500 mb-2\">{{ product.category }}</p>\n          <p class=\"text-base font-medium\">{{ product.price.toLocaleString('ru-RU') }} ₽</p>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NewArrivalsView',\n  data() {\n    return {\n      newProducts: []\n    }\n  },\n  created() {\n    this.fetchNewProducts();\n  },\n  methods: {\n    async fetchNewProducts() {\n      try {\n        // Получаем все продукты и фильтруем новинки\n        const response = await fetch('/api/products');\n        const products = await response.json();\n        \n        // Сортируем по дате добавления (последние добавленные сначала)\n        this.newProducts = products\n          .filter(product => product.is_new)\n          .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      } catch (error) {\n        console.error('Ошибка при загрузке новинок:', error);\n        // Заглушка с данными для демонстрации\n        this.newProducts = [\n          {\n            id: 1,\n            title: 'Минималистичная ваза',\n            price: 2400,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1612620535624-f893323f5a9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 2,\n            title: 'Деревянные подсвечники',\n            price: 1800,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1607248151240-1198a1a63c52?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 3,\n            title: 'Керамическая тарелка',\n            price: 1200,\n            category: 'Посуда',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1603199506016-b9a594b593c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 4,\n            title: 'Льняная скатерть',\n            price: 3500,\n            category: 'Текстиль',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1581784368651-8916b4d8faf3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 5,\n            title: 'Настенное зеркало',\n            price: 4800,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1618222935795-6f94517c90e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 6,\n            title: 'Стеклянная лампа',\n            price: 5200,\n            category: 'Освещение',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          }\n        ];\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Оставляем пустым, так как используем utility-классы Tailwind */\n</style>\n"],"mappings":"AA4BA,eAAe;EACbA,IAAI,EAAE,iBAAiB;EACvBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,gBAAgB,CAAC,CAAC;EACzB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF;QACA,MAAME,QAAO,GAAI,MAAMC,KAAK,CAAC,eAAe,CAAC;QAC7C,MAAMC,QAAO,GAAI,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;;QAEtC;QACA,IAAI,CAACP,WAAU,GAAIM,QAAO,CACvBE,MAAM,CAACC,OAAM,IAAKA,OAAO,CAACC,MAAM,EAChCC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK,IAAIC,IAAI,CAACD,CAAC,CAACE,SAAS,IAAI,IAAID,IAAI,CAACF,CAAC,CAACG,SAAS,CAAC,CAAC;MAClE,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;QACpD;QACA,IAAI,CAAChB,WAAU,GAAI,CACjB;UACEkB,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,sBAAsB;UAC7BC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,OAAO;UACjBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,wBAAwB;UAC/BC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,OAAO;UACjBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,sBAAsB;UAC7BC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,QAAQ;UAClBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,kBAAkB;UACzBC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,UAAU;UACpBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,mBAAmB;UAC1BC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,OAAO;UACjBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,CAAC,EACD;UACEJ,EAAE,EAAE,CAAC;UACLC,KAAK,EAAE,kBAAkB;UACzBC,KAAK,EAAE,IAAI;UACXC,QAAQ,EAAE,WAAW;UACrBX,MAAM,EAAE,IAAI;UACZY,SAAS,EAAE;QACb,EACD;MACH;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}