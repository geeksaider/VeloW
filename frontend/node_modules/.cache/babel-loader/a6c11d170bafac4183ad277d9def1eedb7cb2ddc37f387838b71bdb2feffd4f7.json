{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white shadow-sm rounded-md p-6 md:p-8 mb-16\"\n};\nconst _hoisted_3 = {\n  class: \"grid grid-cols-1 md:grid-cols-12 gap-8\"\n};\nconst _hoisted_4 = {\n  class: \"md:col-span-4\"\n};\nconst _hoisted_5 = {\n  class: \"relative\"\n};\nconst _hoisted_6 = {\n  class: \"md:col-span-3\"\n};\nconst _hoisted_7 = [\"value\"];\nconst _hoisted_8 = {\n  class: \"md:col-span-3\"\n};\nconst _hoisted_9 = {\n  class: \"md:col-span-1 flex items-end\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"flex justify-center items-center py-32\"\n};\nconst _hoisted_11 = {\n  key: 1,\n  class: \"text-center py-32\"\n};\nconst _hoisted_12 = {\n  key: 2,\n  class: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12\"\n};\nconst _hoisted_13 = {\n  class: \"relative mb-4 overflow-hidden rounded-2xl bg-gray-100\",\n  style: {\n    \"aspect-ratio\": \"1/1\"\n  }\n};\nconst _hoisted_14 = [\"src\", \"alt\"];\nconst _hoisted_15 = {\n  class: \"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100\"\n};\nconst _hoisted_16 = {\n  class: \"flex gap-3\"\n};\nconst _hoisted_17 = [\"onClick\"];\nconst _hoisted_18 = {\n  class: \"font-medium text-gray-900 mb-1 line-clamp-1\"\n};\nconst _hoisted_19 = {\n  class: \"text-gray-500 text-sm mb-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[18] || (_cache[18] = _createElementVNode(\"h1\", {\n    class: \"text-3xl font-light text-gray-900 mb-16 text-center\"\n  }, \"Каталог товаров\", -1 /* HOISTED */)), _createCommentVNode(\" Filters and Search \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"search\",\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Поиск\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", {\n    class: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\"\n  }, [_createElementVNode(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: \"h-5 w-5 text-gray-400\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"1.5\",\n    d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n  })])], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n    placeholder: \"Поиск товаров...\",\n    class: \"block w-full pl-10 pr-3 py-3 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\",\n    onInput: _cache[1] || (_cache[1] = (...args) => $setup.debounceSearch && $setup.debounceSearch(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $setup.searchQuery]])])]), _createElementVNode(\"div\", _hoisted_6, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"category\",\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Категория\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"category\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.selectedCategory = $event),\n    class: \"block w-full py-3 px-3 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\",\n    onChange: _cache[3] || (_cache[3] = (...args) => $setup.applyFilters && $setup.applyFilters(...args))\n  }, [_cache[9] || (_cache[9] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"Все категории\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.categories, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category,\n      value: category\n    }, _toDisplayString(category), 9 /* TEXT, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.selectedCategory]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"sort\",\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"Сортировать по\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"sort\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.sortOrder = $event),\n    class: \"block w-full py-3 px-3 border border-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\",\n    onChange: _cache[5] || (_cache[5] = (...args) => $setup.applyFilters && $setup.applyFilters(...args))\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"option\", {\n    value: \"default\"\n  }, \"По умолчанию\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"price-low\"\n  }, \"Сначала дешевые\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"price-high\"\n  }, \"Сначала дорогие\", -1 /* HOISTED */)]), 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $setup.sortOrder]])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    class: \"w-full h-[46px] bg-white border border-gray-200 hover:bg-gray-200 text-gray-700 rounded transition duration-150 text-sm font-medium flex items-center justify-center\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $setup.resetFilters && $setup.resetFilters(...args)),\n    title: \"Сбросить фильтры\"\n  }, _cache[13] || (_cache[13] = [_createElementVNode(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: \"h-5 w-5\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"1.5\",\n    d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n  })], -1 /* HOISTED */)]))])])]), _createCommentVNode(\" Products Grid \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _cache[14] || (_cache[14] = [_createElementVNode(\"div\", {\n    class: \"animate-spin h-12 w-12 border-3 border-indigo-500 border-t-transparent rounded-full\"\n  }, null, -1 /* HOISTED */)]))) : $setup.products.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _cache[15] || (_cache[15] = [_createElementVNode(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: \"h-16 w-16 mx-auto text-gray-300 mb-6\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"1\",\n    d: \"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"\n  })], -1 /* HOISTED */), _createElementVNode(\"p\", {\n    class: \"text-xl text-gray-500 mb-6\"\n  }, \"Товары не найдены\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"div\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"group\"\n    }, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"img\", {\n      src: product.image_url || 'https://via.placeholder.com/400x400?text=Velo',\n      alt: product.title,\n      class: \"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n    }, null, 8 /* PROPS */, _hoisted_14), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_router_link, {\n      to: `/product/${product.id}`,\n      class: \"bg-white text-indigo-600 p-3 rounded-full shadow-md hover:bg-indigo-600 hover:text-white transition duration-150\",\n      \"aria-label\": \"Подробнее\"\n    }, {\n      default: _withCtx(() => [...(_cache[16] || (_cache[16] = [_createElementVNode(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        class: \"h-5 w-5\",\n        fill: \"none\",\n        viewBox: \"0 0 24 24\",\n        stroke: \"currentColor\"\n      }, [_createElementVNode(\"path\", {\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"1.5\",\n        d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n      }), _createElementVNode(\"path\", {\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"1.5\",\n        d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n      })], -1 /* HOISTED */)]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"]), _createElementVNode(\"button\", {\n      onClick: $event => $setup.addToCart(product),\n      class: \"bg-white text-indigo-600 p-3 rounded-full shadow-md hover:bg-indigo-600 hover:text-white transition duration-150\",\n      \"aria-label\": \"Добавить в корзину\"\n    }, [...(_cache[17] || (_cache[17] = [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      class: \"h-5 w-5\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      stroke: \"currentColor\"\n    }, [_createElementVNode(\"path\", {\n      \"stroke-linecap\": \"round\",\n      \"stroke-linejoin\": \"round\",\n      \"stroke-width\": \"1.5\",\n      d: \"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\"\n    })], -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_17)])])]), _createVNode(_component_router_link, {\n      to: `/product/${product.id}`,\n      class: \"block\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"h3\", _hoisted_18, _toDisplayString(product.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_19, _toDisplayString($setup.formatPrice(product.price)) + \" ₽\", 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])), _createCommentVNode(\" Pagination placeholder if needed \"), _createCommentVNode(\" <div class=\\\"mt-16 flex justify-center\\\">\\n      <nav class=\\\"flex items-center space-x-2\\\">\\n        <button class=\\\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50 disabled:opacity-50\\\">Назад</button>\\n        <button class=\\\"px-4 py-2 border bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700\\\">1</button>\\n        <button class=\\\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50\\\">2</button>\\n        <button class=\\\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50\\\">Вперед</button>\\n      </nav>\\n    </div> \")]);\n}","map":{"version":3,"names":["class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","for","_hoisted_5","xmlns","fill","viewBox","stroke","d","type","id","_cache","$event","$setup","searchQuery","placeholder","onInput","args","debounceSearch","_hoisted_6","selectedCategory","onChange","applyFilters","value","_Fragment","_renderList","categories","category","_hoisted_7","_hoisted_8","sortOrder","_hoisted_9","onClick","resetFilters","title","loading","_hoisted_10","products","length","_hoisted_11","_hoisted_12","product","_hoisted_13","src","image_url","alt","_hoisted_14","_hoisted_15","_hoisted_16","_createVNode","_component_router_link","to","default","_withCtx","_","addToCart","_hoisted_17","_hoisted_18","_toDisplayString","_hoisted_19","formatPrice","price"],"sources":["C:\\Users\\geeksaider\\VeloW\\frontend\\src\\views\\ShopView.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\">\n    <h1 class=\"text-3xl font-light text-gray-900 mb-16 text-center\">Каталог товаров</h1>\n    \n    <!-- Filters and Search -->\n    <div class=\"bg-white shadow-sm rounded-md p-6 md:p-8 mb-16\">\n      <div class=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n        <div class=\"md:col-span-4\">\n          <label for=\"search\" class=\"block text-sm font-medium text-gray-700 mb-2\">Поиск</label>\n          <div class=\"relative\">\n            <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n              </svg>\n            </div>\n            <input \n              type=\"text\" \n              id=\"search\" \n              v-model=\"searchQuery\" \n              placeholder=\"Поиск товаров...\" \n              class=\"block w-full pl-10 pr-3 py-3 border border-gray-200  focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\"\n              @input=\"debounceSearch\"\n            >\n          </div>\n        </div>\n        \n        <div class=\"md:col-span-3\">\n          <label for=\"category\" class=\"block text-sm font-medium text-gray-700 mb-2\">Категория</label>\n          <select \n            id=\"category\" \n            v-model=\"selectedCategory\" \n            class=\"block w-full py-3 px-3 border border-gray-200  focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\" \n            @change=\"applyFilters\"\n          >\n            <option value=\"\">Все категории</option>\n            <option v-for=\"category in categories\" :key=\"category\" :value=\"category\">\n              {{ category }}\n            </option>\n          </select>\n        </div>\n        \n        <div class=\"md:col-span-3\">\n          <label for=\"sort\" class=\"block text-sm font-medium text-gray-700 mb-2\">Сортировать по</label>\n          <select \n            id=\"sort\" \n            v-model=\"sortOrder\" \n            class=\"block w-full py-3 px-3 border border-gray-200  focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm\" \n            @change=\"applyFilters\"\n          >\n            <option value=\"default\">По умолчанию</option>\n            <option value=\"price-low\">Сначала дешевые</option>\n            <option value=\"price-high\">Сначала дорогие</option>\n          </select>\n        </div>\n\n        <div class=\"md:col-span-1 flex items-end\">\n          <button \n            class=\"w-full h-[46px] bg-white border border-gray-200 hover:bg-gray-200 text-gray-700 rounded transition duration-150 text-sm font-medium flex items-center justify-center\" \n            @click=\"resetFilters\"\n            title=\"Сбросить фильтры\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Products Grid -->\n    <div v-if=\"loading\" class=\"flex justify-center items-center py-32\">\n      <div class=\"animate-spin h-12 w-12 border-3 border-indigo-500 border-t-transparent rounded-full\"></div>\n    </div>\n    \n    <div v-else-if=\"products.length === 0\" class=\"text-center py-32\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-16 w-16 mx-auto text-gray-300 mb-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\n      </svg>\n      <p class=\"text-xl text-gray-500 mb-6\">Товары не найдены</p>\n    </div>\n    \n    <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12\">\n      <div \n        v-for=\"product in products\" \n        :key=\"product.id\" \n        class=\"group\"\n      >\n        <div class=\"relative mb-4 overflow-hidden rounded-2xl bg-gray-100\" style=\"aspect-ratio: 1/1;\">\n          <img \n            :src=\"product.image_url || 'https://via.placeholder.com/400x400?text=Velo'\" \n            :alt=\"product.title\" \n            class=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\"\n          >\n          <div class=\"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100\">\n            <div class=\"flex gap-3\">\n              <router-link \n                :to=\"`/product/${product.id}`\" \n                class=\"bg-white text-indigo-600 p-3 rounded-full shadow-md hover:bg-indigo-600 hover:text-white transition duration-150\"\n                aria-label=\"Подробнее\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                </svg>\n              </router-link>\n              \n              <button \n                @click=\"addToCart(product)\"\n                class=\"bg-white text-indigo-600 p-3 rounded-full shadow-md hover:bg-indigo-600 hover:text-white transition duration-150\"\n                aria-label=\"Добавить в корзину\"\n              >\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n        \n        <router-link :to=\"`/product/${product.id}`\" class=\"block\">\n          <h3 class=\"font-medium text-gray-900 mb-1 line-clamp-1\">{{ product.title }}</h3>\n          <p class=\"text-gray-500 text-sm mb-1\">{{ formatPrice(product.price) }} ₽</p>\n        </router-link>\n      </div>\n    </div>\n    \n    <!-- Pagination placeholder if needed -->\n    <!-- <div class=\"mt-16 flex justify-center\">\n      <nav class=\"flex items-center space-x-2\">\n        <button class=\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50 disabled:opacity-50\">Назад</button>\n        <button class=\"px-4 py-2 border bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700\">1</button>\n        <button class=\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50\">2</button>\n        <button class=\"px-4 py-2 border border-gray-200 rounded-lg text-sm text-gray-500 hover:bg-gray-50\">Вперед</button>\n      </nav>\n    </div> -->\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted, watch } from 'vue';\nimport { useStore } from 'vuex';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useToast } from 'vue-toastification';\n\nexport default {\n  name: 'ShopView',\n  setup() {\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n    const toast = useToast();\n    \n    // State\n    const searchQuery = ref('');\n    const selectedCategory = ref('');\n    const sortOrder = ref('default');\n    const searchTimeout = ref(null);\n    \n    // Computed properties\n    const products = computed(() => store.getters['products/filteredProducts']);\n    const categories = computed(() => store.getters['products/categories']);\n    const loading = computed(() => store.getters.isLoading);\n    \n    // Methods\n    const fetchData = async () => {\n      await Promise.all([\n        store.dispatch('products/fetchProducts'),\n        store.dispatch('products/fetchCategories')\n      ]);\n    };\n    \n    const debounceSearch = () => {\n      clearTimeout(searchTimeout.value);\n      searchTimeout.value = setTimeout(() => {\n        applyFilters();\n      }, 500);\n    };\n    \n    const applyFilters = () => {\n      // Update route query parameters\n      router.push({\n        query: {\n          ...route.query,\n          search: searchQuery.value || undefined,\n          category: selectedCategory.value || undefined,\n          sort: sortOrder.value !== 'default' ? sortOrder.value : undefined\n        }\n      });\n      \n      // Apply filters in Vuex\n      store.dispatch('products/updateFilter', { key: 'search', value: searchQuery.value });\n      store.dispatch('products/updateFilter', { key: 'category', value: selectedCategory.value });\n      store.dispatch('products/updateFilter', { key: 'sort', value: sortOrder.value });\n    };\n    \n    const resetFilters = () => {\n      searchQuery.value = '';\n      selectedCategory.value = '';\n      sortOrder.value = 'default';\n      \n      router.push({ query: {} });\n      \n      store.dispatch('products/resetFilters');\n    };\n    \n    const addToCart = (product) => {\n      store.dispatch('cart/addToCart', { product, quantity: 1 });\n    };\n    \n    const formatPrice = (price) => {\n      return new Intl.NumberFormat('ru-RU').format(price);\n    };\n    \n    // Lifecycle hooks\n    onMounted(async () => {\n      // Apply query parameters from URL if they exist\n      if (route.query.search) {\n        searchQuery.value = route.query.search;\n        store.dispatch('products/updateFilter', { key: 'search', value: route.query.search });\n      }\n      \n      if (route.query.category) {\n        selectedCategory.value = route.query.category;\n        store.dispatch('products/updateFilter', { key: 'category', value: route.query.category });\n      }\n      \n      if (route.query.sort) {\n        sortOrder.value = route.query.sort;\n        store.dispatch('products/updateFilter', { key: 'sort', value: route.query.sort });\n      }\n      \n      await fetchData();\n    });\n    \n    // Watch for route query changes from external sources\n    watch(() => route.query, (newQuery) => {\n      if (newQuery.search !== undefined && newQuery.search !== searchQuery.value) {\n        searchQuery.value = newQuery.search;\n      }\n      \n      if (newQuery.category !== undefined && newQuery.category !== selectedCategory.value) {\n        selectedCategory.value = newQuery.category;\n      }\n      \n      if (newQuery.sort !== undefined && newQuery.sort !== sortOrder.value) {\n        sortOrder.value = newQuery.sort;\n      }\n    }, { deep: true });\n    \n    return {\n      searchQuery,\n      selectedCategory,\n      sortOrder,\n      products,\n      categories,\n      loading,\n      applyFilters,\n      debounceSearch,\n      resetFilters,\n      addToCart,\n      formatPrice\n    };\n  }\n};\n</script>\n\n<style scoped>\n/* Tailwind CSS handles most styling needs */\n/* Add any component-specific styles here if needed */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}