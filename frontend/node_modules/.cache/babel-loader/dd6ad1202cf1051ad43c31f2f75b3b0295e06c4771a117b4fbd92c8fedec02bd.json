{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\"\n};\nconst _hoisted_2 = {\n  class: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12\"\n};\nconst _hoisted_3 = {\n  class: \"relative mb-4 overflow-hidden rounded-md bg-gray-100\",\n  style: {\n    \"aspect-ratio\": \"1/1\"\n  }\n};\nconst _hoisted_4 = [\"src\", \"alt\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"absolute top-3 right-3 bg-black text-white text-xs px-3 py-1 font-medium\"\n};\nconst _hoisted_6 = {\n  class: \"text-base font-medium text-gray-900 mb-1\"\n};\nconst _hoisted_7 = {\n  class: \"text-sm text-gray-500 mb-2\"\n};\nconst _hoisted_8 = {\n  class: \"text-base font-medium\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[0] || (_cache[0] = _createElementVNode(\"h1\", {\n    class: \"text-3xl font-light text-gray-900 mb-16 text-center\"\n  }, \"Новинки\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.newProducts, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: product.id,\n      class: \"group\"\n    }, [_createVNode(_component_router_link, {\n      to: '/product/' + product.id,\n      class: \"block\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n        src: product.image_url || 'https://via.placeholder.com/300x300?text=Нет+изображения',\n        alt: product.title,\n        class: \"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105\"\n      }, null, 8 /* PROPS */, _hoisted_4), product.is_new ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" New \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"h3\", _hoisted_6, _toDisplayString(product.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString(product.category), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_8, _toDisplayString(product.price.toLocaleString('ru-RU')) + \" ₽\", 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$data","newProducts","product","id","_createVNode","_component_router_link","to","default","_withCtx","_hoisted_3","src","image_url","alt","title","_hoisted_4","is_new","_hoisted_5","_createCommentVNode","_hoisted_6","_toDisplayString","_hoisted_7","category","_hoisted_8","price","toLocaleString","_"],"sources":["/app/src/views/NewArrivalsView.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24\">\n    <h1 class=\"text-3xl font-light text-gray-900 mb-16 text-center\">Новинки</h1>\n    \n    <div class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12\">\n      <div v-for=\"product in newProducts\" :key=\"product.id\" class=\"group\">\n        <router-link :to=\"'/product/' + product.id\" class=\"block\">\n          <div class=\"relative mb-4 overflow-hidden rounded-md bg-gray-100\" style=\"aspect-ratio: 1/1;\">\n            <img \n              :src=\"product.image_url || 'https://via.placeholder.com/300x300?text=Нет+изображения'\" \n              :alt=\"product.title\"\n              class=\"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105\"\n            >\n            <div v-if=\"product.is_new\" class=\"absolute top-3 right-3 bg-black text-white text-xs px-3 py-1 font-medium\">\n              New\n            </div>\n          </div>\n          \n          <h3 class=\"text-base font-medium text-gray-900 mb-1\">{{ product.title }}</h3>\n          <p class=\"text-sm text-gray-500 mb-2\">{{ product.category }}</p>\n          <p class=\"text-base font-medium\">{{ product.price.toLocaleString('ru-RU') }} ₽</p>\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NewArrivalsView',\n  data() {\n    return {\n      newProducts: []\n    }\n  },\n  created() {\n    this.fetchNewProducts();\n  },\n  methods: {\n    async fetchNewProducts() {\n      try {\n        // Получаем все продукты и фильтруем новинки\n        const response = await fetch('/api/products');\n        const products = await response.json();\n        \n        // Сортируем по дате добавления (последние добавленные сначала)\n        this.newProducts = products\n          .filter(product => product.is_new)\n          .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      } catch (error) {\n        console.error('Ошибка при загрузке новинок:', error);\n        // Заглушка с данными для демонстрации\n        this.newProducts = [\n          {\n            id: 1,\n            title: 'Минималистичная ваза',\n            price: 2400,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1612620535624-f893323f5a9c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 2,\n            title: 'Деревянные подсвечники',\n            price: 1800,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1607248151240-1198a1a63c52?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 3,\n            title: 'Керамическая тарелка',\n            price: 1200,\n            category: 'Посуда',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1603199506016-b9a594b593c0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 4,\n            title: 'Льняная скатерть',\n            price: 3500,\n            category: 'Текстиль',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1581784368651-8916b4d8faf3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 5,\n            title: 'Настенное зеркало',\n            price: 4800,\n            category: 'Декор',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1618222935795-6f94517c90e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          },\n          {\n            id: 6,\n            title: 'Стеклянная лампа',\n            price: 5200,\n            category: 'Освещение',\n            is_new: true,\n            image_url: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80'\n          }\n        ];\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Оставляем пустым, так как используем utility-классы Tailwind */\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAuD;;EAG3DA,KAAK,EAAC;AAAgF;;EAGhFA,KAAK,EAAC,sDAAsD;EAACC,KAA0B,EAA1B;IAAA;EAAA;;mBAP5E;;EAAAC,GAAA;EAauCF,KAAK,EAAC;;;EAK/BA,KAAK,EAAC;AAA0C;;EACjDA,KAAK,EAAC;AAA4B;;EAClCA,KAAK,EAAC;AAAuB;;;uBAnBxCG,mBAAA,CAuBM,OAvBNC,UAuBM,G,0BAtBJC,mBAAA,CAA4E;IAAxEL,KAAK,EAAC;EAAqD,GAAC,SAAO,sBAEvEK,mBAAA,CAmBM,OAnBNC,UAmBM,I,kBAlBJH,mBAAA,CAiBMI,SAAA,QAtBZC,WAAA,CAK6BC,KAAA,CAAAC,WAAW,EAAtBC,OAAO;yBAAnBR,mBAAA,CAiBM;MAjB+BD,GAAG,EAAES,OAAO,CAACC,EAAE;MAAEZ,KAAK,EAAC;QAC1Da,YAAA,CAecC,sBAAA;MAfAC,EAAE,gBAAgBJ,OAAO,CAACC,EAAE;MAAEZ,KAAK,EAAC;;MAN1DgB,OAAA,EAAAC,QAAA,CAOU,MASM,CATNZ,mBAAA,CASM,OATNa,UASM,GARJb,mBAAA,CAIC;QAHEc,GAAG,EAAER,OAAO,CAACS,SAAS;QACtBC,GAAG,EAAEV,OAAO,CAACW,KAAK;QACnBtB,KAAK,EAAC;8BAXpBuB,UAAA,GAauBZ,OAAO,CAACa,MAAM,I,cAAzBrB,mBAAA,CAEM,OAFNsB,UAEM,EAFsG,OAE5G,KAfZC,mBAAA,e,GAkBUrB,mBAAA,CAA6E,MAA7EsB,UAA6E,EAAAC,gBAAA,CAArBjB,OAAO,CAACW,KAAK,kBACrEjB,mBAAA,CAAgE,KAAhEwB,UAAgE,EAAAD,gBAAA,CAAvBjB,OAAO,CAACmB,QAAQ,kBACzDzB,mBAAA,CAAkF,KAAlF0B,UAAkF,EAAAH,gBAAA,CAA9CjB,OAAO,CAACqB,KAAK,CAACC,cAAc,aAAY,IAAE,gB;MApBxFC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}